<h1 class="page-title">Personalize your Cover Letter and Video Pitch</h1>
<h2 class="page-subtitle">
  Select options most suitable for the application to get fully personalized cover letter and video pitch
</h2>

<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8 col-xl-6" data-controller="form-generator">
      <%= form_with url: trait_application_path(@application),
                  method: :patch,
                  local: true,
                  html: { id: "traitForm", class: "trait-form p-4 rounded-4 shadow bg-white border", data: { action: "submit->form-generator#validateForm" } } do |f| %>

        <div class="mb-4">
          <label for="trait_choice1" class="form-label h6 mb-3">What tone do you want for your Cover Letter and Video Pitch?</label>
          <%= select_tag :trait_choice1,
              options_for_select([
                ["Select the tone...", ""],
                "Professional and formal",
                "Friendly and approachable",
                "Confident and assertive",
                "Enthusiastic and energetic"
              ]),
              id: "trait_choice1",
              required: true,
              class: "form-select",
              data: { action: "change->form-generator#updateButton" } %>
        </div>

        <div class="mb-4" data-controller="other-field" data-other-field-target="selectContainer">
          <label for="trait_choice2" class="form-label h6 mb-3">Which primary professional strength do you want to highlight?</label>
          <%= select_tag :trait_choice2,
              options_for_select([
                ["Select your primary professional strength...", ""],
                "Technical expertise and problem-solving",
                "Leadership and team management",
                "Communication and collaboration",
                "Innovation and creative thinking",
                "Analytical and data-driven approach",
              ]),
              id: "trait_choice2",
              required: true,
              class: "form-select mb-2",
              data: { action: "change->other-field#toggle", "form-generator-target" => "input", action: "change->form-generator#updateButton" } %>

          <%= text_field_tag :trait_choice2_other, "",
              placeholder: "Please specify...",
              id: "trait_choice2_other",
              style: "display:none;",
              class: "form-control mt-2",
              data: { "form-generator-target" => "input", other_field_target: "otherInput", action: "input->form-generator#updateButton" } %>
        </div>

        <div class="mb-4">
          <label for="trait_choice3" class="form-label h6 mb-3">How would you describe your experience level in this field?</label>
          <%= select_tag :trait_choice3,
              options_for_select([
                ["Select your experience level...", ""],
                "Entry level (0–2 years)",
                "Mid-level (3–5 years)",
                "Senior level (6–10 years)",
                "Expert level (10+ years)"
              ]),
              id: "trait_choice3",
              required: true,
              class: "form-select",
              data: { action: "change->form-generator#updateButton" } %>
        </div>

        <div class="mb-4" data-controller="other-field" data-other-field-target="selectContainer">
          <label for="trait_choice4" class="form-label h6 mb-3">What motivates you most in your career?</label>
          <%= select_tag :trait_choice4,
              options_for_select([
                ["Select your motivation...", ""],
                "Professional growth and learning",
                "Making a meaningful impact",
                "Solving complex challenges",
                "Working with great teams",
                "Building innovative solutions",
              ]),
              id: "trait_choice4",
              required: true,
              class: "form-select mb-2",
              data: { action: "change->other-field#toggle", "form-generator-target" => "input", action: "change->form-generator#updateButton" } %>

          <%= text_field_tag :trait_choice4_other, "",
              placeholder: "Please specify...",
              id: "trait_choice4_other",
              style: "display:none;",
              class: "form-control mt-2",
              data: { "form-generator-target" => "input", other_field_target: "otherInput", action: "input->form-generator#updateButton" } %>
        </div>
      <% end %>

      <div class="d-flex justify-content-center mt-4">
        <%= submit_tag "Generate Cover Letter & Video Pitch →",
            id: "nextBtn",
            class: "next-button disabled-state",
            form: "traitForm",
            data: { "form-generator-target" => "submitButton" } %>
      </div>
    </div>
  </div>
</div>
